# Java环境下的微服务

## 本文涉及的内容，能让你学到什么？

本书适用于开发微服务的Java开发人员和架构师。我们在开始介绍微服务架构前，先讲述一些抽象的基本概念。不幸的是，使用新技术并不能神奇地解决分布式系统问题。但是我们通过一些做的很好的公司，它们是如何使用微服务来进行构建的，包括文化、组织结构和市场压力。然后我们深入了解几个Java微服务框架，附带的源代码反馈可以在GitHub上找到。我们会讨论有关部署、集群、故障转移以及Docker和Kubernetes在这些领域是如何解决这些问题。随后我们会重点介绍一些使用Docker，Kubernetes和NetflixOSS的示例，以演示微服务架构。我们这么少的章节无法讨论所有的问题，但不代表除了这些其他的都不重要，比如：配置、日志记录和连续交付。

微服务不仅仅是技术上的讨论。 微服务的实现源于复杂自适应理论，服务设计，技术演进，领域驱动设计，依赖考量等背景。 它们允许使用这些技术的组织，能够真正地展示敏捷、快速响应并在快速发展的商业世界中保持竞争力。 让我们近距离的来看看吧。

## 你实际是在为一家软件公司工作

软件正在统治这个世界。企业正在慢慢意识到这一点，这个现象有两个主要的驱动因素：通过高品质的服务和技术的快速投产来提供价值。 这本书主要是涉及到动手实践，但在我们深入了解技术之前，我们需要适当地了解整个环境以及关键因素。近年来我们一直在谈论让企业如何变得敏捷，但我们需要充分了解这是什么意思，否则一切都是都是白搭。

### 服务的价值

100多年来，我们的商业市场一直在创造产品，并推动消费者想要这些产品：书桌，微波炉，汽车，鞋子等等。 “生产者主导”经济背后的理念来自于亨利·福特（Henry Ford）的观点：“如果您能以低成本生产大量产品，市场几乎是无限的”。为了达到目的，还需要几个单向渠道直接向客户进行营销，以说服他们他们需要这些产品，并且他们的生活将会由这些产品得以大大的改善。在20世纪的大部分时间里，这些单向渠道以电视、报纸、杂志广告和高速公路广告牌等形式存在。然而，这个生产者主导的经济已经翻篇了，因为市场中充满了过剩的产品（你需要多少手机/汽车/电视机？）此外，互联网以及社交网络正在改变公司如何与消费者（或更重要的是消费者如何与他们互动）的交互渠道。

社交网络使作为消费者的我们能够更自由地彼此分享我们对于公司产品的看法和意见。与营销渠道相比，我们更加相信自己的家人和朋友。这就是为什么我们去社交媒体选择餐馆、酒店和航空公司。我们以点评、评价以及朋友圈等等形式进行反馈，好的反馈能够对公司的品牌产生积极的推动作用，反之，能让某些公司伤透脑筋。现在，公司和消费者之间的双向关系前所未有，公司需要更加努力的经营自己的品牌。

<center>
<img src="https://github.com/weipeng2k/microservices-camp/raw/master/resource/chapter1-1.png" width="50%" height="50%" />
</center>

后工业公司正在学习如何培养和客户之间的关系（使用双向渠道沟通），并通过这些关系让客户了解到自己的产品如何为他们带来价值。公司通过服务、客户体验和反馈来提供持续维系这些关系。客户根据对于自身的价值和体验来选择哪些服务消费。以Uber为例，它本身并不拥有任何库存和售卖的商品，坐在别人的车里，对于我并没有任何价值，但通常会由我想要去某个地方（例如商业会议）而带来价值。通过这种方式，Uber和我通过对服务的使用来创造价值。展望未来，公司将需要专注于为客户提供有价值的服务，而服务的形式也包括了信息技术服务。

### 技术的商品化

技术与经济、生物和法律相似，有繁荣与萧条循环周期，技术引起了伟大的创新，如：蒸汽机、电话和计算机。在竞争激烈的市场中，不断变化的创新需要大量的投资和建设才能快速适应各自的市场。而这将带来更多的竞争、更强的能力和更低的价格，最终使创新技术成为商品。持续创新和改进将成为不断的循环。 这种商品化使我们经历了大型机、个人计算机，直到现在所谓的“云计算”，而它的出现使我们的商业计算几乎没有前期的资本投入。在云计算的基础上，我们正在为技术服务带来新的创新。

<center>
<img src="https://github.com/weipeng2k/microservices-camp/raw/master/resource/chapter1-2.png" width="50%" height="50%" />
</center>

开源技术也是技术领域的引领者。随着时间的推移，开发人员可以使用开源技术用很低的成本构建一个原来需要昂贵专有软件才能构建的产品。这驱使社区构建了诸如：操作系统（Linux）、编程语言（Go）、消息队列（Apache ActiveMQ）和Web服务器（httpd）等知名的产品。即使是最初拒绝开源的公司也开源他们自己的技术并为现有社区做出贡献。随着开源和开放的生态系统已经成为常态，我们开始直接从开放源码社区（例如：Apache Spark、Docker和Kubernetes）看到软件技术的大量创新。

### 纷乱

服务设计与技术的进步，能使更多的人开始创建自己的服务，可以学习编程，使用框架，并且利用按需计算（serverless）进行服务的构建。可以利用微博、微信渠道与客户进行免费的沟通。随着我们市场的快速发展，任何一个创业公司的新点子的有效实施，都会使得原有公司的业务死的很惨。

而这个事实让大多数CIO和首席执行官感到害怕。随着软件迅速成为公司构建数字服务，经验和差异化的机制，许多人意识到他们必须成为各自垂直行业的软件公司。以前企业将IT视为成本，而今发现它已经变为与对手差异化的体现，为了做到这一点，他们必须变得敏捷起来。
